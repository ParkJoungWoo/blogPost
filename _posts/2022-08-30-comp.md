---
layout: post
title: "ë‚´ê°€ ë³´ë ¤ê³  ì •ë¦¬í•œ íŒŒì´ì¬ 2"
subtitle: ë¬¸ë²•
categories: language
tags: [python]
---
# Comprehension ì‚¬ìš©ë²•
íŒŒì´ì¬ì—ì„œ containerë¥¼ ì‚¬ìš©í•  ë•Œ íš¨ìœ¨ì„±ì„ ë†’ì—¬ì£¼ëŠ” ë°©ë²•ì´ë‹¤.
ë‹¤ë¥¸ ëª¨ë“  ì‚¬ìš©ìê°€ ê°•ì¡°í•˜ëŠ” ê²ƒì€ "ê°„ë‹¨í•˜ê³  ì§§ê²Œ"ì´ë‹¤.

## ì°¸ê³ ì‚¬í•­

str, list, tuple, set, dict : container

- sequence type : str, tuple, list, range
    
    - ì—°ì‚° : a + b, a * n, index ê°œë…

- set type : set   
    
    - ì—°ì‚° : í•©ì§‘í•©, êµì§‘í•©, ì°¨ì§‘í•©, ì—¬ì§‘í•©..

- mapping type : dict
    
    - ì—°ì‚° : keyë¥¼ ì´ìš©í•œ ì—°ì‚°ì„ ìˆ˜í–‰
---
## list comprehension
> ê¸°ë³¸ì ì¸ ë¬¸ë²•
```python
[expression for variable in list]
```
- ë§Œì•½ listë¥¼ ì œê³±í•´ì„œ ë§Œë“  listë¥¼ ë§Œë“œë ¤ë©´
```python
[x**2 for x in list]
```
- ì¡°ê±´ë¬¸ì„ í†µí•œ í•„í„°ë§ì„ í•˜ë ¤ë©´
```python
#0~9ê¹Œì§€ í™€ìˆ˜ ì°¾ê¸°
[x for x in range(10) if x % 2]
#0~9ê¹Œì§€ 3ì˜ ë°°ìˆ˜ì¸ í™€ìˆ˜ ì°¾ê¸°
[x for x in range(10) if x % 2 if x % 3 ==0]
```
ê¸°ë³¸ì ì¸ êµ¬ì¡°ëŠ” x for x in (list oR ë²”ìœ„) ì¡°ê±´ë¬¸1 ì¡°ê±´ë¬¸2...
>> [<expression\> for <target_list\> in <iterable\> if <condition\>]

ì´ì™€ ê°™ì´ ë’¤ì—ëŠ” andê°€ ìƒëµë˜ì—ˆë‹¤ê³  ìƒê°í•˜ë©´ ëœë‹¤.
- ì´ì¤‘ ë¦¬ìŠ¤íŠ¸ì— ì ‘ê·¼ í•˜ë ¤ë©´
```python
[ component
  for sublist in mainlist
  for component in sublist
]
```
ë³µí•© comprehensionì„ ì´í•´í•˜ëŠ” ë°©ë²•ì€ ëŠì–´ì„œ ì½ê¸°ì´ë‹¤.

>main_comprehension( sub_comprehension( sub ...) )ì™€ ê°™ì€ ê²¹ê²¹ì´ ìŒ“ì—¬ìˆëŠ” êµ¬ì¡°ë¼ê³  ìƒê°í•˜ë©´ í¸í•˜ë‹¤.

>>ì‹¤í–‰ì€ ë‚´ë¶€ì—ì„œ ë¶€í„° ì‹œì‘ëœë‹¤ê³  ë³´ë©´ ëœë‹¤.

- ê°™ì€ ì›ë¦¬ë¡œ ì‚¼ì¤‘ ë¦¬ìŠ¤íŠ¸ì— ì ‘ê·¼
```python
[ component
  for sublist2 in mainlist
  for sublist1 in sublist2
  for component in sublist1
]
```
# dictionary comprehension

> dict + comprehension
```python
vowel = {'a': True, 'e': True, 'i': True, 'o': True, 'u': True}
word = input("í‚¤ë³´ë“œ ì…ë ¥ : ")
vowel_count = sum(1 for x in word.lower() if vowel.get(x))
sum(1 for i in input('í‚¤ë³´ë“œ ì…ë ¥: ').lower() if moum.get(i))
sum(dic[w] for w in list(word.upper()) if w in dic.keys())
```
ìˆ˜ì—…ì„ ê°™ì´ ë“£ëŠ” í•™ìš°ë“¤ì˜ ì½”ë“œë¥¼ ê°€ì ¸ì™”ë‹¤.
dictionaryë¥¼ í™œìš©í•œ comprehensionì€ if êµ¬ë¬¸ì—ì„œ get(), in dict.keys()ë¥¼ í™œìš©í•˜ì—¬ ëª…ì œë¥¼ íŒë³„í•œë‹¤.

ì•„ë˜ëŠ” ì½”ë“œ ìˆ˜ì—… ì‚¬ì´íŠ¸[^codes]ì—ì„œ ê°€ì ¸ì˜¨ ì½”ë“œì´ë‹¤.
```python
old_price = {'milk': 1.02, 'coffee': 2.5, 'bread': 2.5}

dollar_to_pound = 0.76
new_price = {item: value*dollar_to_pound for (item, value) in old_price.items()}
print(new_price)
```
ëŒ€ë¶€ë¶„ items, keysë¥¼ í™œìš©í•œ íŒë³„ì„ ìˆ˜í–‰í•œë‹¤.
ê·¸ë¦¬ê³  Comprehensionì˜ ì£¼ì˜ì ì´ ìˆë‹¤.
- ê°€ë…ì„±ì„ ë–¨ì–´íŠ¸ë¦°ë‹¤
- ì„±ëŠ¥ì´ í–¥ìƒë˜ëŠ” íš¨ê³¼ê°€ ì—†ì„ ìˆ˜ë„ ìˆë‹¤.

í•­ìƒ Comprehensionì´ ì¢‹ì€ íš¨ê³¼ê°€ ìˆëŠ” ê²ƒì€ ì•„ë‹ˆë¼ëŠ” ê²ƒì„ ë§í•´ì£¼ëŠ” ëŒ€ëª©ì´ë‹¤. ~~ì ë‹¹íˆ ì“°ì~~

---
## zipê³¼ pack, unpack
ë°ì´í„°ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ë‹¤ë£¨ê¸° ìœ„í•´ì„œ pack, unpackì˜ í™œìš©ì€ í•„ìˆ˜ì´ë‹¤.
- ì½”ë”©í…ŒìŠ¤íŠ¸ì—ì„œ ë§ì´ ì‚¬ìš©í•˜ëŠ” unpackì˜ ì˜ˆì‹œ
```python
a,b,c = input().split()
```
zipì„ í™œìš©í•œ packì„ í™•ì¸í•´ë³´ì
```python
a,b = (1,2,3),(4,5,6)
z = zip(a,b)
print(list(z))
print(list(z))
```
ì¶œë ¥ ê²°ê³¼ëŠ” ì•„ë˜ì™€ ê°™ë‹¤
```
[(1, 4), (2, 5), (3, 6)]
[]
```
ë§Œì•½ a,bì˜ ê¸¸ì´ê°€ ë‹¬ëë‹¤ë©´ ê¸¸ì´ê°€ ê°™ì€ ë¶€ë¶„ë§Œ zipì´ ë˜ê³  ë‚˜ë¨¸ì§€ëŠ” ë²„ë ¤ì§„ë‹¤.

ë‘ë²ˆì§¸ ì¶œë ¥ì—ì„œ ë¹ˆ ë¦¬ìŠ¤íŠ¸ê°€ ì¶œë ¥ëœ ì´ìœ ëŠ”
zipì€ iterator ì´ê¸° ë•Œë¬¸ì— í•œë²ˆ iterableí•œ ìˆ˜í–‰ì„ í•˜ë©´ ì‚¬ë¼ì§€ê¸° ë•Œë¬¸ì´ë‹¤.
(python2ì—ì„œ python3ìœ¼ë¡œ ë„˜ì–´ê°€ë©´ì„œ ë³€ê²½ë˜ì—ˆë‹¤.)

ê·¸ë˜ì„œ iteraterì— nextë¥¼ ì‚¬ìš©í•˜ë©´
```python
a,b = (1,2,3),(4,5,6)
z = zip(a,b)
print(next(z))
print(next(z))
print(next(z))
```
ì¶œë ¥ ê²°ê³¼
```
(1, 4)
(2, 5)
(3, 6)
```
ì´ì™€ ê°™ì€ ê²°ê³¼ë¥¼ ì˜ˆìƒí•  ìˆ˜ ìˆë‹¤.
```
a = [[1,2,3],[4,5,6],[7,8,9]] ì—ì„œ 
[[1, 4, 7], [2, 5, 8], [3, 6, 9]]ë¥¼ ë„ì¶œí•˜ë¼
```
listëŠ” *ì—°ì‚°ìë¥¼ í†µí•´ì„œ pack, unpackëœë‹¤.

```python
#ê°€ì¥ ê¸°ë³¸ì ìœ¼ë¡œ ìƒê°í•  ìˆ˜ ìˆëŠ” comprehension + ë‚´ì¥í•¨ìˆ˜ + ë‚˜ì—´
b = [list(i) for i in zip(a[0],a[1],a[2])]
#ğŸ¥¶unpackì„ í™œìš©í•œ í’€ì´
b = [list(i) for i in zip(*a)]
```
```python
#ë”•ì…”ë„ˆë¦¬ zipê³¼ ì´ˆê¸°í™”
list_nation = ['Korea', 'Maple']
list_capital = ['Seoul', 'Henesis']
my_dict = dict(zip(list_nation, list_capital))
print(my_dict)
```
```python
A, B, C, *D, E, F = [1,2,3,4,5,6,7,8,9,10]
print(A,B,C,D,E,F)
```
ê²°ê³¼
```
1 2 3 [4, 5, 6, 7, 8] 9 10
```
**\**ì—°ì‚°ìë¡œ 2ì¤‘ë¦¬ìŠ¤íŠ¸ê°€ unpackë˜ì§€ëŠ” ì•ŠëŠ”ë‹¤**

** ì—°ì‚°ìëŠ” dictionaryë¥¼ unpackí• ë•Œ ì‚¬ìš©ëœë‹¤
```python
k = {'A': 10, 'B': 20, 'C': 30}
print("{A} {B} {C}".format(**k))
```
ê²°ê³¼
```
10 20 30
```

*\*, ** ì—°ì‚°ì ëª¨ë‘ pack, unpackì— ìš©ë„ê°€ ë™ì¼í•˜ë‹¤.*
```python
#list maker
def funcA(*a):
    print(type(a), a)
#dict maker
def funcB(**a):
    print(type(a), a)
funcA(10,20)
funcB(A=10,B=20,C=30)
```
ê²°ê³¼
```
<class 'tuple'> (10, 20)
<class 'dict'> {'A': 10, 'B': 20, 'C': 30}
```
[^codes]:https://www.programiz.com/python-programming/dictionary-comprehension